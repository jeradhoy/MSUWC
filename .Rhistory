library(maptools)
library(raster)
library(rgdal)
library(ncdf)
library(raster)
options(scipen=999)
library(mailR)
library(plotrix)
source("notifyMe.r")
source("routingFunctions.r")
plot(dates[which(dates == startDate):which(dates == endDate)],flowTopoWx$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
lines(dates[which(dates == startDate):which(dates == endDate)],flow$qOut[,"60960"], type="l", col="blue", ylab="Flow (m/s)")
lines(lamarQ$datetime, lamarQ$Q)
legend("topleft", lty=1, legend=c("Routed TopoWx Flow", "Routed Daymet Flow", "Lamar Tower Gauge"), col=c("red", "blue", "black"))
gof(flow$qOut[,"60960"], lamarQ$Q[which(lamarQ$datetime == startDate):which(lamarQ$datetime == endDate)]) 
library(hydroGOF)
gof(flow$qOut[,"60960"], lamarQ$Q[which(lamarQ$datetime == startDate):which(lamarQ$datetime == endDate)]) 
startDate <- "1999-01-01"
endDate <- "2012-12-31"
gof(flow$qOut[which(dates == startDate):which(dates == endDate),"60960"], lamarQ$Q[which(lamarQ$datetime == startDate):which(lamarQ$datetime == endDate)]) 
gof(flowTopoWx$qOut[which(dates == startDate):which(dates == endDate),"60960"], lamarQ$Q[which(lamarQ$datetime == startDate):which(lamarQ$datetime == endDate)]) 
gof(flow$qOut[which(dates == startDate):which(dates == endDate),"60960"], lamarQ$Q[which(lamarQ$datetime == startDate):which(lamarQ$datetime == endDate)]) 
gof(flowTopoWx$qOut[which(dates == startDate):which(dates == endDate),"60960"], lamarQ$Q[which(lamarQ$datetime == startDate):which(lamarQ$datetime == endDate)]) 
cbind(
gof(flow$qOut[which(dates == startDate):which(dates == endDate),"60960"], lamarQ$Q[which(lamarQ$datetime == startDate):which(lamarQ$datetime == endDate)]) ,
gof(flowTopoWx$qOut[which(dates == startDate):which(dates == endDate),"60960"], lamarQ$Q[which(lamarQ$datetime == startDate):which(lamarQ$datetime == endDate)]) 
)
subRunoff
dim(subRunoff)
rownames(subRunoff)
length(dates)
rownames(subRunoff) <- dates
subRunoff
rownames(subRunoff)
rownames(subRunoff)
10%%3
10%%4
10%%5
10%%5
34%%12
a =1 
a
5 * ifelse(a=1, 3,5)
5 * ifelse(a == 1, 3,5)
runoff
subRunoff[1,]
subRunoff[1,]
12%%12
1%%12
2%%12
3%%12
4%%12
11%%12
12%%12
monthDays
12%%13
13%%13
12%%13
12%%12
12%%12 + 1
1%%12 + 1
11%%12 + 1
12%%12 + 1
daysInMonth <- c(31, 31,28,31,30,31,30,31,31,30,31,30)
daysInMonth[1%%12 + 1]
daysInMonth[2%%12 + 1]
daysInMonth[3%%12 + 1]
daysInMonth[12%%12 + 1]
daysInMonth[12%%12 + 1]
daysInMonth[13%%12 + 1]
daysInMonth[14%%12 + 1]
daysInMonth[14%%12 + 1] * 2
numberOfDays <- function(date) {
        m <- format(date, format="%m")
    while (format(date, format="%m") == m) {
        date <- date + 1
        }
        return(as.integer(format(date - 1, format="%d")))
}
numberOfDays("2012-01-02")
numberOfDays("2012-01-02")
numberOfDays(as.Date("2012-01-02"))
numberOfDays(as.Date("2012-02-02"))
numberOfDays(as.Date("2012-02-02"))
numberOfDays(as.Date("2013-02-02"))
format(as.Date("2012-02-01"))
format(as.Date("2012-02-01"), format="%m" )
format(as.Date("2012-02-01"), format="%m" )
as.integer(format(as.Date("2012-02-01"), format="%m" ))
as.integer(format(as.Date("2012-02-01"), format="%m" ))
daysInMonth[as.integer(format(as.Date("2012-02-01"), format="%m" ))]
daysInMonth[as.integer(format(as.Date("2012-02-01"), format="%m" ))]
seq(as.Date("2013-02-02"), as.Date("2015-02-02"), by="month")
seq(as.Date("2013-02-02"), as.Date("2015-02-02"), by="month", format="%m")
formate(seq(as.Date("2013-02-02"), as.Date("2015-02-02"), by="month"), format="%m")
format(seq(as.Date("2013-02-02"), as.Date("2015-02-02"), by="month"), format="%m")
as.Date("2007-10")
as.Date("2007-10")
as.Date("2007-10-01")
as.Date("2007-10")
as.Date("2007-10", "%Y-%m)
"
as.Date("2007-10", "%Y-%m")
yearmon
as.yearmon("2007-12")
as.yearmon("2007-12")
as.yearmon("2007-12")
as.yearmon("2007-12")
as.yearmon("2007-12")
yearmon("2007-12")
yearmon("2007-12", format="%Y-%m")
as.yearmon("2007-12", format="%Y-%m")
as.yearmon("2007-12", format="%Y-%m")
as.yearmon("2007-12", "%Y-%m")
monyear
as.yearmon("2007-12", "%Y-%m")
runoff[1,]
runoff[1,]
subRunoff[1,]
names(subRunoff[1,])
rownames(subRunoff[1,])
format(rownames(subRunoff[1,]), format="%m")
format(rownames(subRunoff[1,]), format="%m")
format(rownames(subRunoff[1,]),"%m")
format(rownames(subRunoff[1,]),"%m")
format(rownames(subRunoff[1,]), "%m")
format("2009-01-01", "%m"
)
format("2009-01-01", "%m")
format(as.Date("2009-01-01"), "%m")
format(as.Date(rownames(subRunoff[1,])), "%m")
as.integer(format(as.Date(rownames(subRunoff[1,])), "%m"))
as.integer(format(as.Date(rownames(subRunoff[1,])), "%m"))
dateRange
dateRange <- c("2007-01-01", "2008-01-01")
seq(as.Date(dateRange[1]), as.Date(dateRange[2]), by="month")
seq(as.Date(dateRange[1]), as.Date(dateRange[2]), by="month")
seq(as.Date(dateRange[1]), as.Date(dateRange[2]), by="month")
format(rownames(subRunoff[1,]),"%m")
names(subRunoff[1,])
rownames(subRunoff[1,])
yearmon(rownames(subRunoff[1,])
)
yearmon(rownames(subRunoff[1,]))
as.yearmon(rownames(subRunoff[1,]))
dates
as.yearmon(dates)
date
date(1)
Date
Date <- as.Date("2001-01-01")
Date
as.yearmon(Date)
as.yearmon(Date)
format(as.yearmon(Date), "%m")
format("Jan 2001", "%m")
Date <- as.yearmon(Date)
Date
format(Date, "%m")
format(Date, "%m")
monthlyRunof
monthlyRunoff
dim(monthlyRunoff)
dates
dates2 <- as.yearmon(seq(as.Date("1980-01-01"), as.Date("2012-12-31"), by="month")
)
dates2
rownames(monthlyRunoff) <- dates2
monthlyRunoff
monthlyRunoff[1,]
rownames(monthlyRunoff[1,])
rowname(monthlyRunoff[1,])
rownames(monthlyRunoff[1,])
format(rownames(monthlyRunoff[1,]), "%m")
format(as.Date(rownames(monthlyRunoff[1,])), "%m")
format(as.yearmon(rownames(monthlyRunoff[1,])), "%m")
seq(as.Date("2009-01-01"), by="month", length.out=20)
source("routingFunctions.r")
source("routingFunctions.r")
monthlyLamarDaymetRunoff <- AggregateRunoff("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/lamar_daymet_monthlyStand.nc", catchmentsInBounds, "msro", startDate="1980-01-01", timestep="month")
monthlyLamarDaymetRunoff <- AggregateRunoff("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/lamar_daymet_monthlyStand.nc", catchmentsInBounds, "msro", startDate="1980-01-01", timeStep="month")
monthlyLamarDaymetRunoff
monthlyLamarDaymetRunoff
monthlyLamarDaymetRunoff
monthlyLamarDaymetRunoff
monthlyLamarDaymetRunoff
source("routingFunctions.r")
monthlyLamarDaymetRunoff <- AggregateRunoff("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/lamar_daymet_monthlyStand.nc", catchmentsInBounds, "msro", startDate="1980-01-01", timeStep="month")
t
time
time()
tStep
timeStep
t
t()
T
i
j
by
t
j
k
l
step
timeStep
by="day"
by
monthlyLamarDaymetRunoff <- AggregateRunoff("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/lamar_daymet_monthlyStand.nc", catchmentsInBounds, "msro", startDate="1980-01-01",by="month")
source("routingFunctions.r")
monthlyLamarDaymetRunoff <- AggregateRunoff("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/lamar_daymet_monthlyStand.nc", catchmentsInBounds, "msro", startDate="1980-01-01",by="month")
source("routingFunctions.r")
flow <- RouteWater(edgesInBounds, surfRunoff[which(dates == startDate):which(dates == endDate), ], subRunoff[which(dates == startDate):which(dates == endDate), ], debugMode=F)
monthlyLamarDaymetSurfaceRunoff <- AggregateRunoff("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/lamar_daymet_monthlyStand.nc", catchmentsInBounds, "mssro", startDate="1980-01-01",by="month")
monthlyLamarDaymetSubRunoff <- AggregateRunoff("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/lamar_daymet_monthlyStand.nc", catchmentsInBounds, "mssro", startDate="1980-01-01",by="month")
monthlyLamarDaymetSurfaceRunoff <- AggregateRunoff("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/lamar_daymet_monthlyStand.nc", catchmentsInBounds, "msro", startDate="1980-01-01",by="month")
flowMonthlyDaymet <- RouteWater(edgesInBounds, monthlyLamarDaymetSurfaceRunoff, monthlyLamarDaymetSubRunoff, by="month")
flowMonthlyDaymet
flowMonthlyDaymet$sRiv
flowMonthlyDaymet$sRiv
flowMonthlyDaymet$sRiv
flowMonthlyDaymet$sRiv
flowMonthlyDaymet$sRiv
plot(flowMonthlyDaymet$qOut[,"60960"], type="l"
)
plot(flowMonthlyDaymet$qOut[,"60960"], type="l"
)
plot(dates[which(dates == startDate):which(dates == endDate)], flow$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates[which(dates == startDate):which(dates == endDate)], flow$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flow$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(flowMonthlyDaymet$qOut[,"60960"], type="l")
plot(dates, flow$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flow$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(flowMonthlyDaymet$qOut[,"60960"], type="l")
plot(dates, flow$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flow$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(flowMonthlyDaymet$qOut[,"60960"], type="l")
hist(edgesInBounds$SLOPE/120000)
median(edgesInBounds$SLOPE)
edgesInBounds$SLOPE/120000
hist(edgesInBounds$SLOPE/120000, breaks=20)
edgesInBounds
edgesInBounds$LengthKM
edgesInBounds[ordger(edgesInBounds$LengthKM),]
edgesInBounds[order(edgesInBounds$LengthKM),]
edgesInBounds[order(edgesInBounds$LengthKM),]$LengthKM
edges
hydroEdges
hydroEdges$Length
hydroEdges$LengthKM
hydroEdges$Shape_Length
hydroEdges$Shape_Length*120
hydroEdges$Shape_Length*120
summary(hydroEdges$Shape_Length*120)
flowMonthlyDaymet2 <- RouteWater(edgesInBounds, monthlyLamarDaymetSurfaceRunoff, monthlyLamarDaymetSubRunoff, by="month")
source("routingFunctions.r")
flow <- RouteWater(edgesInBounds, surfRunoff[which(dates == startDate):which(dates == endDate), ], subRunoff[which(dates == startDate):which(dates == endDate), ], debugMode=F)
flowMonthlyDaymet2 <- RouteWater(edgesInBounds, monthlyLamarDaymetSurfaceRunoff, monthlyLamarDaymetSubRunoff, by="month")
source("routingFunctions.r")
flowMonthlyDaymet2 <- RouteWater(edgesInBounds, monthlyLamarDaymetSurfaceRunoff, monthlyLamarDaymetSubRunoff, by="month")
source("routingFunctions.r")
flowMonthlyDaymet2 <- RouteWater(edgesInBounds, monthlyLamarDaymetSurfaceRunoff, monthlyLamarDaymetSubRunoff, by="month")
flowMonthlyDaymet2 <- RouteWater(edgesInBounds, monthlyLamarDaymetSurfaceRunoff, monthlyLamarDaymetSubRunoff, extraValues=F, by="month")
flowMonthlyDaymet2 <- RouteWater(edgesInBounds, monthlyLamarDaymetSurfaceRunoff, monthlyLamarDaymetSubRunoff, by="month")
flowMonthlyDaymet2 <- RouteWater(edgesInBounds, monthlyLamarDaymetSurfaceRunoff, monthlyLamarDaymetSubRunoff, by="month")
source("routingFunctions.r")
source("routingFunctions.r")
flowMonthlyDaymet2 <- RouteWater(edgesInBounds, monthlyLamarDaymetSurfaceRunoff, monthlyLamarDaymetSubRunoff, by="month")
flowDaymet <- routeWater(edgesInBounds, surfRunoff, subRunoff, debugMode=F)
source("routingFunctions.r")
flowDaymet <- routeWater(edgesInBounds, surfRunoff, subRunoff, debugMode=F)
plot(dates, flow$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
lines(dates[which(dates == startDate):which(dates == endDate)],flowDimDaymet$qOut[,"60960"], type="l", col="blue", ylab="Flow (m/s)")
lines(lamarQ$datetime, lamarQ$Q)
plot(dates, flow$v[,"60960"], type="l", col="red", ylab="Flow (m/s)")
flow$v
flowDaymet
flowDaymet$v
names(flowDaymet)
flowDaymet <- routeWater(edgesInBounds, surfRunoff, subRunoff, debugMode=F)
source("routingFunctions.r")
flowDaymet <- routeWater(edgesInBounds, surfRunoff, subRunoff, debugMode=F)
flowDaymet$v[,"6jk]
"
plot(dates, flowDaymet$v[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$v[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$v[,"60960"], type="l", col="red", ylab="Flow (m/s)")
names(flowDaymet)
source("routingFunctions.r")
flowDaymet <- RouteWater(edgesInBounds, surfRunoff, subRunoff, debugMode=F)
notifyMe("Done Routing Daymet")
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=F)
notifyMe("Done Routing TopoWx")
plot(dates, flowDaymet$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$v[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$v[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flow$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flow$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flow$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowTopoWx$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
flowDaymet
daymetSnowpack <- apply(get.var.ncdf(open.ncdf("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/Lamar_TopoWx_stand_daily.nc"), "spack"), 3, sum, na.rm=T)/1000*1000000/(24*60*60)
daymetSnowpack <- apply(get.var.ncdf(open.ncdf("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/Lamar_TopoWx_stand_daily.nc"), "spack"), 3, sum, na.rm=T)/1000*1000000/(24*60*60)
topoWxSnowpack <- apply(get.var.ncdf(open.ncdf("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/Lamar_TopoWx_stand_daily.nc"), "spack"), 3, sum, na.rm=T)/1000*1000000/(24*60*60)
plot(as.Date(dates), dailySnowpack, type="l")
daymetSnowpack <- apply(get.var.ncdf(open.ncdf("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/Lamar_Daymet_stand_daily.nc"), "spack"), 3, sum, na.rm=T)/1000*1000000/(24*60*60)
daymetSnowpack <- apply(get.var.ncdf(open.ncdf("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/Lamar_daymet_stand_daily.nc"), "spack"), 3, sum, na.rm=T)/1000*1000000/(24*60*60)
daymetSnowpack <- apply(get.var.ncdf(open.ncdf("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/lamar_daymet_stand_daily.nc"), "spack"), 3, sum, na.rm=T)/1000*1000000/(24*60*60)
daymetSnowpack <- apply(get.var.ncdf(open.ncdf("/Users/hoy/Desktop/MSUWC/Data/Output_Lamar_Runoff/lamar_daymet_dailyStand.nc"), "spack"), 3, sum, na.rm=T)/1000*1000000/(24*60*60)
plot(as.Date(dates), topoWxSnowpack, type="l")
plot(as.Date(dates), topoWxSnowpack, type="l")
lines(as.Date(dates), daymetSnowpack, type="l")
plot(as.Date(dates), topoWxSnowpack, type="l", col="red")
lines(as.Date(dates), daymetSnowpack, type="l", col="blue")
legend("topleft", lty=1, col=c("blue", "red"), legend=c("Daymet Snowpack", "TopoWx Snowpack"))
lamarPrecip <- open.ncdf("/Users/hoy/Desktop/MSUWC/Data/DriverData/Daymet/prcp_gye_1980_2012_daily_latlon_monthly.nc") 
plot(as.Date(dates), topoWxSnowpack, type="l", col="red")
lines(as.Date(dates), daymetSnowpack, type="l", col="blue")
legend("topleft", lty=1, col=c("blue", "red"), legend=c("Daymet Snowpack", "TopoWx Snowpack"))
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=T)
source("routingFunctions.r")
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=T)
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=T)
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=T)
source("routingFunctions.r")
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=T)
source("routingFunctions.r")
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=T)
source("routingFunctions.r")
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=T)
1/0
source("routingFunctions.r")
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=T)
source("routingFunctions.r")
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=F)
4/0
4/0
4/0 > 1
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=T)
source("routingFunctions.r")
startDate <- "2010-01-01"
endDate <- "2012-12-31"
flow <- RouteWater(edgesInBounds, surfRunoff[which(dates == startDate):which(dates == endDate), ], subRunoff[which(dates == startDate):which(dates == endDate), ], debugMode=F)
plot(dates[which(dates == startDate):which(dates == endDate)],flow$v[,"60960"], type="l", col="blue", ylab="Flow (m/s)")
edgesInBounds$LengthKM
summary(edgesInBounds$LengthKM)
edgesInBounds$LengthKM == 25.610
which(edgesInBounds$LengthKM == 25.610)
which(edgesInBounds$LengthKM == max(edgesInBounds$LengthKM))
edgesInBounds[56,]
edgesInBounds[56,]$DrainID
edgesInBounds[56,]$HydroID
edgesInBounds[56,]$DrainID
plot(dates[which(dates == startDate):which(dates == endDate)],flow$v[,"59952"], type="l", col="blue", ylab="Flow (m/s)")
summary(edgesInBounds$LengthKM)
abline(.29641, 0) 
plot(dates[which(dates == startDate):which(dates == endDate)],flow$v[,"59952"], type="l", col="blue", ylab="Flow (m/s)")
abline(.29641, 0) 
plot(dates[which(dates == startDate):which(dates == endDate)],flow$qIn[,"59952"], type="l", col="blue", ylab="Flow (m/s)")
plot(dates[which(dates == startDate):which(dates == endDate)],flow$qOut[,"59952"], type="l", col="blue", ylab="Flow (m/s)")
abline(0, 0) 
l
l <- 40
v
v <- 86.4
ifelse(l/v < 1, (1-l/v), 0) * 30
ifelse(l/v < 1, (1-l/v), 0) * 30
ifelse(l/v > 1, (1-l/v), 0) * 30
ifelse(l/v < 1, (1-l/v), 0) * 30
ifelse(l/v < 1, (1-l/v), 0) * 30
ifelse(l/v < 1, (1-l/v), 0) * 30
1/0
1- 1/0
l/v
1/0
1/0 < 1
q <- if(1 < 2){
    65
} else {
    52
}
q
q <- if(1 > 2){
    65
} else {
    52
}
q
flowMonthlyDaymet <- RouteWater(edgesInBounds, monthlyLamarDaymetSurfaceRunoff, monthlyLamarDaymetSubRunoff, by="month")
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=F)
source("routingFunctions.r")
flowTopoWx <- RouteWater(edgesInBounds, topoWxSurfRunoff, topoWxSubRunoff, debugMode=F)
flowDaymet <- RouteWater(edgesInBounds, surfRunoff, subRunoff, debugMode=F)
notifyMe("Done Routing stuff")
plot(dates[which(dates == startDate):which(dates == endDate)],flow$v[,"59952"], type="l", col="blue", ylab="Flow (m/s)")
plot(dates[which(dates == startDate):which(dates == endDate)],flow$v[,"60960"], type="l", col="blue", ylab="Flow (m/s)")
plot(dates, flowDaymet$v[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$v[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowDaymet$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
plot(dates, flowTopoWx$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
lines(lamarQ$datetime, lamarQ$Q)
plot(dates, flowDaymet$qOut[,"60960"], type="l", col="red", ylab="Flow (m/s)")
lines(lamarQ$datetime, lamarQ$Q)
AssignBfWidth(edgesInBounds, .3,.6)
AssignBfWidth(edgesInBounds, .3,.6)$bfWidth
AssignBfWidth(edgesInBounds, .3,.6)$bfWidth
AssignBfWidth(edgesInBounds, .4,.6)$bfWidth
AssignBfWidth(edgesInBounds, .4,.6)$bfWidth
AssignBfWidth(edgesInBounds, .4,56)$bfWidth
AssignBfWidth(edgesInBounds, .4,.56)$bfWidth
AssignBfWidth(edgesInBounds, .4,.5)$bfWidth
AssignBfWidth(edgesInBounds, .4,.4)$bfWidth
AssignBfWidth(edgesInBounds, .4,.5)$bfWidth
AssignBfWidth(edgesInBounds, .5,.5)$bfWidth
AssignBfWidth(edgesInBounds, .5,.6)$bfWidth
AssignBfWidth(edgesInBounds, .5,.5)$bfWidth
AssignBfWidth(edgesInBounds, .5\6,.5)$bfWidth
AssignBfWidth(edgesInBounds, .6,.5)$bfWidth
AssignBfWidth(edgesInBounds, .6,.5)$bfWidthflow <- RouteWater(edgesInBounds, surfRunoff[which(dates == startDate):which(dates == endDate), ], subRunoff[which(dates == startDate):which(dates == endDate), ], debugMode=F, widthCoeffs=c(.3, .6))
source("routingFunctions.r")
flow <- RouteWater(edgesInBounds, surfRunoff[which(dates == startDate):which(dates == endDate), ], subRunoff[which(dates == startDate):which(dates == endDate), ], debugMode=F, widthCoeffs=c(.3, .6))
flow2 <- RouteWater(edgesInBounds, surfRunoff[which(dates == startDate):which(dates == endDate), ], subRunoff[which(dates == startDate):which(dates == endDate), ], debugMode=F, widthCoeffs=c(.6, .5))
plot(dates[which(dates == startDate):which(dates == endDate)],flow$v[,"60960"], type="l", col="blue", ylab="Flow (m/s)")
lines(dates[which(dates == startDate):which(dates == endDate)],flow2$v[,"60960"], type="l", col="blue", ylab="Flow (m/s)")
source("routingFunctions.r")
flow <- RouteWater(edgesInBounds, surfRunoff[which(dates == startDate):which(dates == endDate), ], subRunoff[which(dates == startDate):which(dates == endDate), ], debugMode=F, widthCoeffs=c(.3, .6))
plot(dates[which(dates == startDate):which(dates == endDate)],flow$v[,"60960"], type="l", col="blue", ylab="Flow (m/s)")
catchmentsInBounds
catchmentsInBounds
catchmentsInBounds[catchmentsInBounds$RiverOrder > 1, ]
catchmentsInBounds[catchmentsInBounds$RiverOrder > 1, ]
catchmentsInBounds[catchmentsInBounds$NextDownID == "3432", ]
catchmentsInBounds[catchmentsInBounds$NextDownID == "58816", ]
catchmentsInBounds[catchmentsInBounds$NextDownID == "58817", ]
catchmentsInBounds[catchmentsInBounds$NextDownID == "58816", ]
catchmentsInBounds$NextDownID == "58816"
catchmentsInBounds$NextDownID == "58816"
(catchmentsInBounds$NextDownID == "58816")
(catchmentsInBounds$NextDownID == "58816") == F
(catchmentsInBounds$NextDownID == "58816")
which(catchmentsInBounds$NextDownID == "58816")
which(catchmentsInBounds$NextDownID == "58817")
which(catchmentsInBounds$NextDownID == "58816")
which(catchmentsInBounds$NextDownID == "58817")
which(catchmentsInBounds$NextDownID == "58817") == 0
which(catchmentsInBounds$NextDownID == "58817")
is.null(which(catchmentsInBounds$NextDownID == "58817"))
is.null(which(catchmentsInBounds$NextDownID == "58817")
(catchmentsInBounds$NextDownID == "58816")
(catchmentsInBounds$NextDownID == "58816")
(catchmentsInBounds$NextDownID == "58816")
any(catchmentsInBounds$NextDownID == "58816")
source("routingFunctions.r")
GetCatchInBounds(catchments, c(1007000105, 1007000106))
source("routingFunctions.r")
GetCatchInBounds(catchments, c(1007000105, 1007000106))
GetCatchInBounds(catchments, c(1007000105, 1007000106))
GetCatchInBounds(catchments, c(1007000105))
GetCatchInBounds(catchments, c(1007000106))
GetCatchInBounds(catchments, c(1007000106))
GetCatchInBounds(catchments, c(1007000105))
GetCatchInBounds(catchments, c(1007000106))
GetCatchInBounds(catchments, c(1007000105))
GetCatchInBounds(catchments, c(1007000106))
GetCatchInBounds(catchments, c(1007000105))
GetCatchInBounds(catchments, c(1007000106))
GetCatchInBounds(catchments, c(1007000105, 1007000106))
GetCatchInBounds(catchments, c(1007000105))
GetCatchInBounds(catchments, c(1007000106))
GetCatchInBounds(catchments, c(1007000105, 1007000106))
GetCatchInBounds(catchments, c(1007000105))
GetCatchInBounds(catchments, c(1007000106))
GetCatchInBounds(catchments, c(1007000105))
GetCatchInBounds(catchments, c(1007000106))
catchments <- readOGR("/Users/hoy/Desktop/MSUWC/Data/Catchments", "Catchments", stringsAsFactors=FALSE)
catchments <- readOGR("/Users/hoy/Desktop/MSUWC/Data/Catchments/Catchments", stringsAsFactors=FALSE)
catchments <- readOGR("/Users/hoy/Desktop/MSUWC/Data/Catchments/Catchments", stringsAsFactors=FALSE)d
edgesInBounds$NextDownID
edgesInBounds[, "NextDownID"]
edgesInBounds[[, "NextDownID"]]
edgesInBounds[, "NextDownID"]
edgesInBounds[[, "NextDownID"]]
edgesInBounds[,[ "NextDownID"]]
edgesInBounds[ "NextDownID"]
edgesInBounds["NextDownID"]
edgesInBounds["NextDownID",] 
edgesInBounds[,"NextDownID"]
edgesInBounds[,"NextDownID"] <- 7
edgesInBounds[,"NextDownID"] <- 7
edgesInBounds[1,"NextDownID"]
edgesInBounds[2,"NextDownID"]
edgesInBounds[3,"NextDownID"]
edgesInBounds[3,"NextDownID"]
edgesInBounds[,"NextDownID"] <- 7
edgesInBounds$NextDownID
edgesInBounds$NextDownID
edgesInBounds[,"NextDownID"]
summary(edgesInBounds[,"NextDownID"])
edgesInBounds[,"NextDownID"] == 61201
edgesInBounds[,"NextDownID" == 61201
edgesInBounds$NextDownID == 61201
edgesInBounds$Data
data(edgesInBounds)
edgesInBounds@data
edgesInBounds@data[1,]
edgesInBounds@data[,1]
edgesInBounds@data[,"NextDownID"]
